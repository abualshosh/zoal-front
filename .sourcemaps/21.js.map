{"version":3,"sources":["../../src/pages/ConsumerPages/add-card-model/add-card-model.module.ts","../../src/models/cards.ts","../../src/pages/ConsumerPages/add-card-model/add-card-model.ts"],"names":[],"mappings":"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","file":"21.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddCardModelPage } from './add-card-model';\nimport { TranslateModule } from '@ngx-translate/core';\n@NgModule({\n  declarations: [\n    AddCardModelPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddCardModelPage),\n      TranslateModule.forChild()\n  ],\n  exports: [\n    AddCardModelPage\n  ]\n})\nexport class AddCardModelPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ConsumerPages/add-card-model/add-card-model.module.ts","\r\n\r\n/*\r\n  Generated class for the UserProvider provider.\r\n\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular DI.\r\n*/\r\n\r\nexport class Card {\r\n\r\n\r\n\r\n  constructor(public CARDNAME,public pan : string,public panview : string,public expDate:string,public selected:boolean) {\r\n\r\n  }\r\n\r\n  printuser(){\r\n\r\n    console.log(this.pan);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/cards.ts","\nimport { Component } from '@angular/core';\nimport { IonicPage,ViewController, NavController, NavParams,ModalController } from 'ionic-angular';\n\nimport {Validators, FormBuilder, FormGroup } from '@angular/forms';\nimport { LoadingController } from 'ionic-angular';\nimport { GetServicesProvider } from '../../../providers/get-services/get-services';\nimport { AlertController } from 'ionic-angular';\nimport * as NodeRSA from 'node-rsa';\nimport * as uuid from 'uuid';\nimport { UserProvider } from '../../../providers/user/user';\nimport {Storage} from '@ionic/storage';\nimport {Card} from '../../../models/cards';\n/**\n * Generated class for the ZaintopupPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n @IonicPage()\n @Component({\n   selector: 'page-add-card-model',\n   templateUrl: 'add-card-model.html',\n })\n export class AddCardModelPage {\n\n\n  private bal : any;\n  private todo : FormGroup;\n  public cards:Card[]=[];\npublic payee:any[]=[];\nsubmitAttempt: boolean = false;\nedit: boolean = false;\n          \n  constructor(public viewCtrl: ViewController , private formBuilder: FormBuilder ,public loadingCtrl: LoadingController , public GetServicesProvider : GetServicesProvider,public alertCtrl: AlertController\n  ,public user:UserProvider,public storage:Storage,public modalCtrl:ModalController, public navParams: NavParams) {\n    this.storage.get('cards').then((val) => {\n      if(val){\n    this.cards=val;\n      }});\n\n\n    //user.printuser();\n\n    this.todo = this.formBuilder.group({\n      PAN: ['',Validators.compose([Validators.required,Validators.minLength(16), Validators.pattern('[0-9]*')])],\n    //  CARDNAME: ['',Validators.required],\n      expDate: ['',Validators.required],\n\n\n    });\n      \n    var card=this.navParams.get('card');\n      if(card){\n    this.todo.get('PAN').setValue(card.pan);  \n          this.todo.get('expDate').setValue(card.expDate);   \n      }\n\n  }\n\n  showAlert(balance : any ) {\n   let alert = this.alertCtrl.create({\n     title: 'ERROR',\n     message: balance.responseMessage,\n\n     buttons: ['OK'],\n      cssClass: 'alertCustomCss'\n   });\n   alert.present();\n }\n dismiss() {\n   this.viewCtrl.dismiss();\n }\n\n  logForm(){\n         this.submitAttempt=true;\nif(this.todo.valid){\n\n   var dat=this.todo.value;\n\n    console.log(dat.expDate.substring(2,4)+dat.expDate.substring(5));\n    var date = new Date(dat.expDate);\n    console.log();\n        console.log();\n   this.storage.get('cards').then((val) => {\nvar mon=\"\"+(date.getMonth()+1);\nif(mon.length==1){\n    mon=\"0\"+mon;\n}\n       if(val){\n    var i:any;\n    for(i = 0; i < val.length; i++) {\n if(val[i].pan === dat.PAN){\n  var card=this.navParams.get('card');\n  if(card){\n    val[i].expDate=card.expDate;\n  }else{\n    val[i].expDate=date.getFullYear().toString().substring(2,4)+mon;\n  }\n    \n this.edit=true;\n     this.cards=val;\n }\n}}\n  //   }}else{\n  //  this.cards.push(  new Card(dat.PAN,dat.PAN,\"XXXXXXXXXX\"+dat.PAN.substring(10),date.getFullYear().toString().substring(2,4)+mon,false)\n  // );   \n  //   }\n       if(!this.edit){\n   this.cards.splice(0,0,\n\n     new Card(dat.PAN,dat.PAN,\"XXXXXXXXXX\"+dat.PAN.substring(10),date.getFullYear().toString().substring(2,4)+mon,false)\n   );\n            this.edit=false;\n           }\n    this.storage.set('cards',this.cards);\n          \n});\nthis.viewCtrl.dismiss();\n   this.submitAttempt=false;\n\n  }}\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ConsumerPages/add-card-model/add-card-model.ts"],"sourceRoot":""}