{"version":3,"sources":["../../src/pages/tabs/tabs.module.ts","../../src/pages/pages.ts","../../src/pages/tabs/tabs.ts"],"names":[],"mappings":"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","file":"34.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { TabsPage } from './tabs';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    TabsPage,\r\n  ],\r\n  imports: [\r\n    \r\n    IonicPageModule.forChild(TabsPage),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    TabsPage\r\n  ]\r\n})\r\nexport class TabsPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.module.ts","// The page the user lands on after opening the app and without a session\nexport const FirstRunPage = 'TutorialPage';\n\n// The main page the user will see as they use the app over a long period of time.\n// Change this if not using tabs\nexport const MainPage = 'TabsPage';\n\n// The initial root pages for our tabs (remove if not using tabs)\nexport const Tab1Root = 'FeedsPage';\nexport const Tab2Root = 'SearchPage';\nexport const Tab3Root = 'SettingsPage';\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/pages.ts","import { Component ,ViewChild,NgZone} from '@angular/core';\nimport { TranslateService } from '@ngx-translate/core';\nimport { IonicPage, NavController,Events } from 'ionic-angular';\nimport { Api } from '../../providers/providers';\nimport { Tab1Root } from '../pages';\nimport { Tab2Root } from '../pages';\nimport { Tab3Root } from '../pages';\nimport { StompService } from 'ng2-stomp-service';\nimport { SQLite ,SQLiteObject  } from '@ionic-native/sqlite';\nimport { FCM } from '@ionic-native/fcm';\nimport { Platform } from 'ionic-angular';\nimport { Contacts, Contact, ContactField, ContactName } from '@ionic-native/contacts';\n\n\n\n@IonicPage()\n@Component({\n  selector: 'page-tabs',\n  templateUrl: 'tabs.html'\n})\nexport class TabsPage {\n  username:any;\n  tab1Root: any = 'FeedsPage';\n  tab2Root: any = Tab2Root;\n  tab3Root: any = 'ContentPage';\n  tab4Root: any = 'ChatsPage';\n    tab5Root: any = 'SlideFreeModePage';\n  tab1Title :any;\n  tab2Title  :any;\n  tab3Title  :any;\n  tab4Title  :any;\n  tab5Title :any;\n  tab4BadgeCount =0;\n  upcontacts:any=[];\n  currentItems: any = [];\nsubscription:any;\n\n  constructor(private contacts: Contacts,public zone:NgZone,public platform: Platform,private fcm: FCM,public sqlite:SQLite,public api: Api,public events: Events,public stomp: StompService,public navCtrl: NavController, public translateService: TranslateService) {\n    translateService.get(['feeds', 'Contacts', 'profile','chat', 'Pay']).subscribe(values => {\n     // alert(\"ds\");\n      this.tab1Title = values['feeds'];\n      this.tab2Title = values['Contacts'];\n      this.tab3Title = values['profile'];\n      this.tab4Title = values['chat'];\n      this.tab5Title = values['Pay'];\n    });\n  \n    platform.ready().then(() => {  \n    if (this.platform.is('cordova')) {\nthis.initDatabase();\n\nthis.username=localStorage.getItem('username');\nthis.uploadContacts();\n    if(typeof fcm === \"undefined\"){\n      alert(\"FCMPlugin is installed correctly\");\n    }\n  fcm.getToken().then(token=>{\n   if(token){\n    localStorage.setItem('FCMToken',token)\n    this.connectWs(localStorage.getItem('id_token'),token);\n   } })\n  \n  fcm.onNotification().subscribe(data=>{\n\n    if(data.wasTapped){\n      alert(JSON.stringify(data));\n    } else {\n    \n     // alert(\"Received in foreground\");\n    };\n  })\n  \n  fcm.onTokenRefresh().subscribe(token=>{\n    if(token){\n      \n    localStorage.setItem('FCMToken',token);\n   this.connectWs(localStorage.getItem('id_token'),token);\n   \n  }})\n}else{\n this.connectWs(localStorage.getItem('id_token'),null);\n \n}\n           });\n  }\n\n  initDatabase(){\n    this.sqlite.create({\n      name: localStorage.getItem('username'),\n      location: 'default'\n    })\n      .then((db: SQLiteObject) => {\n  \n    this.createTables(db);\n  \n      })\n      .catch(e => console.log(e));\n  }\n  \n  createTables(db: SQLiteObject){\n          db.executeSql(`CREATE TABLE IF NOT EXISTS messages(\n               ID INTEGER PRIMARY KEY AUTOINCREMENT,\n               chatId INTEGER,\n               otherUser TEXT,\n               msg TEXT,\n               msgDate DateTime\n               \n          )`, []);\n          db.executeSql(`CREATE TABLE IF NOT EXISTS chats(\n               ID INTEGER PRIMARY KEY AUTOINCREMENT,\n               otherUser TEXT,\n               msg TEXT,\n               msgDate DateTime\n          )`, []);\n  \n          // db.executeSql(`insert into chats(\n          //              otherUser ,\n          //              msg ,\n          //              msgDate\n          //         ) values (?,?,?)`, ['user','first m','2017-11-11']);\n  \n      }\n  \n\n\n\n  connectWs(token:any,FcmToken:any) {\n    //configuration\n    this.stomp.configure({\n      host:'https://'+this.api.urlip+'/websocket/tracker?access_token='+token+'&FcmToken='+localStorage.getItem('FCMToken'),\n      headers:{\n        Authorization: `Bearer ${token}`,\n        FcmToken: localStorage.getItem('FCMToken')\n      },\n      \n      debug:true,\n      queue:{'init':false}\n    });\n    \n    //start connection\n    this.stomp.startConnect().then(() => {\n      this.stomp.done('init');\n      console.log('connected');\n\n      //subscribe\n      this.subscription = this.stomp.subscribe('/user/queue/messages', this.response);\n      //send data\n      this.events.subscribe('message', (greeting) => {\nconsole.log(greeting)\nthis.zone.run(() => {\n  this.tab4BadgeCount++;\n  });\n        this.sqlite.create({\n          name: localStorage.getItem('username'),\n          location: 'default'\n        })\n          .then((db: SQLiteObject) => {\n         db.executeSql(`insert into messages(\n             chatId ,\n             otherUser ,\n             msg ,\n             msgDate\n        ) values (?,?,?,?)`, [greeting.sender,greeting.sender,greeting.message,greeting.msgDate]);\n\n\n        db.executeSql(`update chats set msg=? , msgDate=? where otheruser=?`,\n           [greeting.message,greeting.msgDate,greeting.sender]).then(data => {\n          if(data.rowsAffected == 0){\n            db.executeSql(`insert into chats(\n              otherUser ,\n              msg ,\n              msgDate\n         ) values (?,?,?)`, [greeting.sender,greeting.message,greeting.msgDate]);\n         \n          }\n            }, (e) => {\n        \n             \n            console.log(\"Errot: \" + JSON.stringify(e));\n            });\n\n           // for(var i = 0; i < this.chats.length; i++)\n           // {\n           //   if(this.chats[i].title==greeting.sender){\n           //     this.chats[i].lastMessage=greeting.message;\n           //     this.chats[i].timestamp=new Date();\n           //   }\n           // }\n\n      })\n      .catch(e => console.log(e));\n      });\n\n      //unsubscribe\n  //    this.subscription.unsubscribe();\n\n      //disconnect\n  //    this.stomp.disconnect().then(() => {\n//        console.log( 'Connection closed' )\n//      })\n\n    });\n\n\n  }\n\n  uploadContacts(){\n    var opts = {\n             filter : \"M\",\n             multiple: true,\n             hasPhoneNumber:true,\n             fields:  [ 'displayName', 'name' ]\n           };\n  \n           this.contacts.find([ '*' ],opts).then((contacts) => {\n             for(var i=0;i<contacts.length;i++){\n               let cont=contacts[i].phoneNumbers[0].value;\n              contacts[i].phoneNumbers[0].value= cont.replace(/ /g,'').trim().slice(-9);\n              this.upcontacts.push({\"login\":contacts[i].phoneNumbers[0].value});\n            }\n  \n  \n  \n            let seq = this.api.post('connections',this.upcontacts).share();\n        //    this.posts=this.postsTest;\n             seq.subscribe((res: any) => {\n               // If the API returned a successful response, mark the user as logged in\n               if (res) {\n                     this.currentItems=[];\n                 for (var i=0;i<res.length;i++){\n                   if(res[i].profileOne.userName!=this.username){\n                      this.currentItems.push(res[i].profileOne);\n                   }else if(res[i].profileTow.userName!=this.username){\n                     this.currentItems.push(res[i].profileTow);\n                   }\n                 }\n                 localStorage.setItem(\"connections\", JSON.stringify(this.currentItems));\n                } \n             }, err => {\n                console.error('ERROR', err);\n             });\n             }, (error) => {\n             console.log(error);\n           });\n  }\n\n  public response = (data) => {\nconsole.log(data)\n     this.events.publish('message', data);\n  }\n  @ViewChild('myTabs') tabRef: any;\n\n  selectTab() {\n    this.tabRef.select(2);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/tabs/tabs.ts"],"sourceRoot":""}