{"version":3,"sources":["../../src/pages/ConsumerPages/add-card-model/add-card-model.module.ts","../../src/models/cards.ts","../../src/pages/ConsumerPages/add-card-model/add-card-model.ts"],"names":[],"mappings":"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","file":"37.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { AddCardModelPage } from './add-card-model';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n@NgModule({\r\n  declarations: [\r\n    AddCardModelPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(AddCardModelPage),\r\n      TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    AddCardModelPage\r\n  ]\r\n})\r\nexport class AddCardModelPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ConsumerPages/add-card-model/add-card-model.module.ts","\r\n\r\n/*\r\n  Generated class for the UserProvider provider.\r\n\r\n  See https://angular.io/docs/ts/latest/guide/dependency-injection.html\r\n  for more info on providers and Angular DI.\r\n*/\r\n\r\nexport class Card {\r\n\r\n\r\n\r\n  constructor(public CARDNAME,public pan : string,public panview : string,public expDate:string,public selected:boolean) {\r\n\r\n  }\r\n\r\n  printuser(){\r\n\r\n    console.log(this.pan);\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/models/cards.ts","\r\nimport { Component } from '@angular/core';\r\nimport { IonicPage,ViewController, NavController, NavParams,ModalController } from 'ionic-angular';\r\n\r\nimport {Validators, FormBuilder, FormGroup } from '@angular/forms';\r\nimport { LoadingController } from 'ionic-angular';\r\nimport { GetServicesProvider } from '../../../providers/get-services/get-services';\r\nimport { AlertController } from 'ionic-angular';\r\nimport * as NodeRSA from 'node-rsa';\r\nimport * as uuid from 'uuid';\r\nimport { UserProvider } from '../../../providers/user/user';\r\nimport {Storage} from '@ionic/storage';\r\nimport {Card} from '../../../models/cards';\r\n/**\r\n * Generated class for the ZaintopupPage page.\r\n *\r\n * See http://ionicframework.com/docs/components/#navigation for more info\r\n * on Ionic pages and navigation.\r\n */\r\n @IonicPage()\r\n @Component({\r\n   selector: 'page-add-card-model',\r\n   templateUrl: 'add-card-model.html',\r\n })\r\n export class AddCardModelPage {\r\n\r\n\r\n  private bal : any;\r\n  private todo : FormGroup;\r\n  public cards:Card[]=[];\r\npublic payee:any[]=[];\r\nsubmitAttempt: boolean = false;\r\nedit: boolean = false;\r\n          \r\n  constructor(public viewCtrl: ViewController , private formBuilder: FormBuilder ,public loadingCtrl: LoadingController , public GetServicesProvider : GetServicesProvider,public alertCtrl: AlertController\r\n  ,public user:UserProvider,public storage:Storage,public modalCtrl:ModalController, public navParams: NavParams) {\r\n    this.storage.get('cards').then((val) => {\r\n      if(val){\r\n    this.cards=val;\r\n      }});\r\n\r\n\r\n    //user.printuser();\r\n\r\n    this.todo = this.formBuilder.group({\r\n      PAN: ['',Validators.compose([Validators.required,Validators.minLength(16), Validators.pattern('[0-9]*')])],\r\n    //  CARDNAME: ['',Validators.required],\r\n      expDate: ['',Validators.required],\r\n\r\n\r\n    });\r\n      \r\n    var card=this.navParams.get('card');\r\n      if(card){\r\n    this.todo.get('PAN').setValue(card.pan);  \r\n          this.todo.get('expDate').setValue(card.expDate);   \r\n      }\r\n\r\n  }\r\n\r\n  showAlert(balance : any ) {\r\n   let alert = this.alertCtrl.create({\r\n     title: 'ERROR',\r\n     message: balance.responseMessage,\r\n\r\n     buttons: ['OK'],\r\n      cssClass: 'alertCustomCss'\r\n   });\r\n   alert.present();\r\n }\r\n dismiss() {\r\n   this.viewCtrl.dismiss();\r\n }\r\n\r\n  logForm(){\r\n         this.submitAttempt=true;\r\nif(this.todo.valid){\r\n\r\n   var dat=this.todo.value;\r\n\r\n    console.log(dat.expDate.substring(2,4)+dat.expDate.substring(5));\r\n    var date = new Date(dat.expDate);\r\n    console.log();\r\n        console.log();\r\n   this.storage.get('cards').then((val) => {\r\nvar mon=\"\"+(date.getMonth()+1);\r\nif(mon.length==1){\r\n    mon=\"0\"+mon;\r\n}\r\n       if(val){\r\n    var i:any;\r\n    for(i = 0; i < val.length; i++) {\r\n if(val[i].pan === dat.PAN){\r\n  var card=this.navParams.get('card');\r\n  if(card){\r\n    val[i].expDate=card.expDate;\r\n  }else{\r\n    val[i].expDate=date.getFullYear().toString().substring(2,4)+mon;\r\n  }\r\n    \r\n this.edit=true;\r\n     this.cards=val;\r\n }\r\n}}\r\n  //   }}else{\r\n  //  this.cards.push(  new Card(dat.PAN,dat.PAN,\"XXXXXXXXXX\"+dat.PAN.substring(10),date.getFullYear().toString().substring(2,4)+mon,false)\r\n  // );   \r\n  //   }\r\n       if(!this.edit){\r\n   this.cards.splice(0,0,\r\n\r\n     new Card(dat.PAN,dat.PAN,\"XXXXXXXXXX\"+dat.PAN.substring(10),date.getFullYear().toString().substring(2,4)+mon,false)\r\n   );\r\n            this.edit=false;\r\n           }\r\n    this.storage.set('cards',this.cards);\r\n          \r\n});\r\nthis.viewCtrl.dismiss();\r\n   this.submitAttempt=false;\r\n\r\n  }}\r\n\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ConsumerPages/add-card-model/add-card-model.ts"],"sourceRoot":""}