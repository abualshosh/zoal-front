{"version":3,"sources":["../../src/pages/history/history.module.ts","../../src/pages/history/history.ts"],"names":[],"mappings":"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","file":"41.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\nimport { HistoryPage } from './history';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\n@NgModule({\r\n  declarations: [\r\n    HistoryPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(HistoryPage),\r\n    \r\n    TranslateModule.forChild()\r\n  ],\r\n})\r\nexport class HistoryPageModule {}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.module.ts","import { Component ,ViewChild } from '@angular/core';\nimport { IonicPage, NavController, NavParams,ModalController,Content } from 'ionic-angular';\nimport { Api } from '../../providers/providers'\n/**\n * Generated class for the HistoryPage page.\n *\n * See https://ionicframework.com/docs/components/#navigation for more info on\n * Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-history',\n  templateUrl: 'history.html',\n})\nexport class HistoryPage {\n  last: boolean = false;\n  showSearchbar: boolean = false;\n  size: any;\n  page: any = 0;\n  history = [];\n  checkBoxes=[\n    {\n      \"id\":1,\n      \"name\":\"E15\",\n      \"value\":false\n    }\n    ,\n    {\n      \"id\":2,\n      \"name\":\"E152\",\n      \"value\":false\n    } ,\n    {\n      \"id\":2,\n      \"name\":\"E152\",\n      \"value\":false\n    } ,\n    {\n      \"id\":2,\n      \"name\":\"E152\",\n      \"value\":false\n    }\n  ];\n  @ViewChild('content') content: Content;\n  constructor(public navCtrl: NavController,public modalCtrl:ModalController, public navParams: NavParams, public api: Api) {\n    this.api.get('historiesmobile', \"?page=0&size=15\", null).subscribe((res: any) => {\n          this.last = res.last;\n              console.log(this.size)\n              this.history = res.content;\n          \n          }, err => {\n  console.error('ERROR', err);\n      });\n  }\n  search(){\n    this.checkBoxes.forEach(box => {\n      console.log(box.value)\n    });\n  }\n  toggleSearch(){\n    if(this.showSearchbar){\n      this.showSearchbar=false;\n    }else{\n      this.showSearchbar=true;\n    }\n    \n    this.content.resize();\n  }\n  check(){\n    this.content.resize();\n  }\n  itemSelected(input){\n\n  var data= input.detailes;\n  \n    data=JSON.parse(data.substr(data.indexOf(\"response    \")+12));\n    var datas;\n   if(data.balance){\n         datas ={\n          \"destinationIdentifier\":data.destinationIdentifier,\n          \"toCard\":data.toCard,\n          \"tan\":data.tan,\n          \"fee\":data.fee\n          ,\"transactionAmount\":data.transactionAmount\n          ,\"totalAmount\":data.totalAmount\n    ,\"acqTranFee\":data.acqTranFee\n    ,\"issuerTranFee\":data.issuerTranFee\n     ,\"tranAmount\":data.tranAmount\n     ,\"tranCurrency\":data.tranCurrency\n   //  ,\"balance\":data.balance.available\n     ,\"transactionId\":data.transactionId\n     ,\"date\":input.transactionDate\n  };\n      \n   }else{\n        datas ={\n          \"destinationIdentifier\":data.destinationIdentifier,\n          \"toCard\":data.toCard,\n      \"tan\":data.tan,\n      \"fee\":data.fee\n    ,\"transactionAmount\":data.transactionAmount\n    ,\"totalAmount\":data.totalAmount\n    ,\"acqTranFee\":data.acqTranFee\n    ,\"issuerTranFee\":data.issuerTranFee\n     ,\"tranAmount\":data.tranAmount\n        ,\"tranCurrency\":data.tranCurrency\n        ,\"transactionId\":data.transactionId\n        ,\"date\":input.transactionDate\n  }; \n   }\n\n \n\n   var dat =[];\n   if(data.PAN){\n    dat.push({\"Card\":data.PAN\n   \n  })\n  }else{\n   data.entityId ? dat.push({\"WalletNumber\":data.entityId}) : dat.push({\"WalletNumber\":data.consumerIdentifier})\n  }\n\n\n   if(data.billInfo){\n   if(Object.keys(data.billInfo).length>0){\n     if(data.billInfo.accountNo){\n       data.billInfo.accountNo=null;\n     }\n     if(data.billInfo.opertorMessage){\n      data.billInfo.opertorMessage=null;\n    }\n   \n    dat.push(data.billInfo);\n   }}\n\n   var voucher={\n    \"voucherNumber\":data.voucherNumber\n    ,\"voucherCode\":data.voucherCode\n}\nvar main =[];\nvar mainData={};\n\nmainData[input.transactionType] = (data.totalAmount ? data.totalAmount : data.tranAmount); \nif(!mainData[input.transactionType]){\n  mainData[input.transactionType] = data.transactionAmount;\n}\nmain.push(mainData);\n dat.push(voucher);\n      dat.push(datas);\n  \n      let modal = this.modalCtrl.create('BranchesPage', {\"data\":dat,\"main\":main},{ cssClass: 'inset-modal' });\n   modal.present();\n  }\n\n  doInfinite(infiniteScroll) {\n    this.page = this.page + 1;\n    this.api.get('historiesmobile', \"?page=\" + this.page + \"&size=15\", null).subscribe((res: any) => {\n     this.last = res.last;\n        console.log(this.size);\n        for (let i = 0; i < res.content.length; i++) {\n          this.history.push(res.content[i]);\n        }\n        infiniteScroll.complete();\n   }, err => {\n console.error('ERROR', err);\n    });\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/history/history.ts"],"sourceRoot":""}