{"version":3,"sources":["../../src/pages/search/search.module.ts","../../src/pages/search/search.ts"],"names":[],"mappings":"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","file":"44.js","sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { TranslateModule } from '@ngx-translate/core';\r\nimport { IonicPageModule } from 'ionic-angular';\r\n\r\nimport { SearchPage } from './search';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    SearchPage,\r\n  ],\r\n  imports: [\r\n    IonicPageModule.forChild(SearchPage),\r\n    TranslateModule.forChild()\r\n  ],\r\n  exports: [\r\n    SearchPage\r\n  ]\r\n})\r\nexport class SearchPageModule { }\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.module.ts","import { Component } from '@angular/core';\r\nimport { IonicPage, NavController, NavParams } from 'ionic-angular';\r\nimport { Contacts, Contact, ContactField, ContactName } from '@ionic-native/contacts';\r\nimport { Api } from '../../providers/providers'\r\n\r\nimport { Item } from '../../models/item';\r\nimport { Items } from '../../providers/providers';\r\n\r\n@IonicPage()\r\n@Component({\r\n  selector: 'page-search',\r\n  templateUrl: 'search.html'\r\n})\r\nexport class SearchPage {\r\n\r\n  currentItems: any = [];\r\ncontactlist:any=[];\r\nusername:any;\r\nupcontacts:any=[];\r\n  constructor(public api:Api,private contacts: Contacts,public navCtrl: NavController, public navParams: NavParams, public items: Items) {\r\nthis.username=localStorage.getItem('username');\r\n  // this.currentItems=JSON.parse(localStorage.getItem(\"connections\"));\r\n   var dummy={\"fullName\":\"Test\",\"userName\":\"922190200\"};\r\n   this.currentItems.push(dummy);    \r\n   this.currentItems.push(dummy);   \r\n   this.currentItems.push(dummy);   \r\n   this.currentItems.push(dummy);   \r\n//\r\n//this.currentItems= this.items.query();\r\n   }\r\n\r\n  /**\r\n   * Perform a service for the proper items.\r\n   */\r\n  getItems(ev) {\r\n    let val = ev.target.value;\r\n    if (!val || !val.trim()) {\r\n      this.currentItems = JSON.parse(localStorage.getItem(\"connections\"));\r\n      return;\r\n    }\r\n    this.currentItems = this.currentItems.filter((v) => {\r\n      \r\n          if (v.fullName.toLowerCase().indexOf(val.toLowerCase()) > -1) {\r\n             return true;\r\n            }\r\n      \r\n            return false;\r\n          });\r\n  }\r\nuploadContacts(){\r\n  var opts = {\r\n         //  filter : \"M\",\r\n           multiple: true,\r\n           hasPhoneNumber:true\r\n         };\r\n\r\n         this.contacts.find([ '*' ],opts).then((contacts) => {\r\n           alert(contacts.length);\r\n           for(var i=0;i<contacts.length;i++){\r\n             let cont=contacts[i].phoneNumbers[0].value;\r\n            contacts[i].phoneNumbers[0].value= cont.replace(/ /g,'').replace(')','').replace('-','').trim().slice(-9);\r\n            if (!isNaN(+contacts[i].phoneNumbers[0].value)){\r\n              this.upcontacts.push({\"login\":contacts[i].phoneNumbers[0].value});\r\n            }\r\n            \r\n          }\r\n\r\n\r\n\r\n          let seq = this.api.post('connections',this.upcontacts).share();\r\n      //    this.posts=this.postsTest;\r\n           seq.subscribe((res: any) => {\r\n             // If the API returned a successful response, mark the user as logged in\r\n             if (res) {\r\n               console.log(this.username)\r\n\r\n               console.log(res)\r\nthis.currentItems=[];\r\n               for (var i=0;i<res.length;i++){\r\n                 if(res[i].profileOne.userName!=this.username){\r\n                    this.currentItems.push(res[i].profileOne);\r\n                 }else if(res[i].profileTow.userName!=this.username){\r\n                   this.currentItems.push(res[i].profileTow);\r\n                 }\r\n               }\r\n              // this.currentItems=res;\r\n                   localStorage.setItem(\"connections\", JSON.stringify(this.currentItems));\r\n             //  this._loggedIn(res);\r\n           //  localStorage.setItem('id_token', res.id_token);\r\n           //  console.log( localStorage.getItem('id_token'));\r\n\r\n             } else {\r\n\r\n             //  this.currentItems=this.postsTest;\r\n             }\r\n           }, err => {\r\n           //  this.posts=this.postsTest;\r\n\r\n             console.error('ERROR', err);\r\n           });\r\n\r\n\r\n          // this.contactlist=contacts;\r\n         }, (error) => {\r\n           console.log(error);\r\n         });\r\n}\r\n  /**\r\n   * Navigate to the detail page for this item.\r\n   */\r\n  openItem(item:any) {\r\n    if(item.profileTow.userName!=this.username){\r\n    item=item.profileTow;\r\n    }else{\r\n    item=item.profileOne;\r\n    }\r\n\r\n    this.navCtrl.push('OtherProfilePage', {\r\n      item: item\r\n    });\r\n  }\r\n\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/search/search.ts"],"sourceRoot":""}