{"version":3,"sources":["../../src/pages/GMPPPages/switchaccount/switchaccount.module.ts","../../src/pages/GMPPPages/switchaccount/switchaccount.ts"],"names":[],"mappings":"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","file":"48.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { SwitchaccountPage } from './switchaccount';\nimport { TranslateModule } from '@ngx-translate/core';\n@NgModule({\n  declarations: [\n    SwitchaccountPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(SwitchaccountPage),\n        TranslateModule.forChild()\n  ],\n  exports: [\n    SwitchaccountPage\n  ]\n})\nexport class SwitchaccountPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/GMPPPages/switchaccount/switchaccount.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,ModalController } from 'ionic-angular';\n\nimport {Validators, FormBuilder, FormGroup } from '@angular/forms';\nimport { LoadingController } from 'ionic-angular';\nimport { GetServicesProvider } from '../../../providers/get-services/get-services';\nimport { AlertController } from 'ionic-angular';\nimport * as NodeRSA from 'node-rsa';\nimport * as uuid from 'uuid';\nimport { UserProvider } from '../../../providers/user/user';\nimport {Storage} from '@ionic/storage';\nimport {Card} from '../../../models/cards';\nimport { Api } from '../../../providers/providers';\n/**\n * Generated class for the GmppBalancePage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n @Component({\n   selector: 'page-switchaccount',\n   templateUrl: 'switchaccount.html',\n })\n export class SwitchaccountPage {\n  public submitAttempt:boolean =false;\n  consumerIdentifier:any;\n    private bal : any;\n    private todo : FormGroup;\n    private complate : FormGroup;\n    public cards:Card[]=[];\n   public compleate:any=\"FALSE\";\n   public GetServicesProvider : GetServicesProvider;\n    constructor(public api:Api,public navCtrl: NavController, private formBuilder: FormBuilder ,public loadingCtrl: LoadingController , public GetServicesProviderg : GetServicesProvider,public alertCtrl: AlertController\n    ,public user:UserProvider,public storage:Storage,public modalCtrl:ModalController) {\n \n      this.GetServicesProvider=GetServicesProviderg;\n      this.todo = this.formBuilder.group({\n\n      \n         consumerPIN: ['',Validators.compose([Validators.required,Validators.minLength(4),Validators.maxLength(4), Validators.pattern('[0-9]*')])]\n  \n    });\n  \n    this.complate = this.formBuilder.group({\n  \n  consumerOTP: ['',Validators.required]\n  \n    });\n    }\n    ionViewDidLoad(){\n  this.consumerIdentifier=\"249\"+localStorage.getItem('username');\n  // this.storage.set('Switchaccount','TRUE');\n  // this.storage.set(\"SwitchaccountUUID\",\"ea906944-e074-4d90-b104-fd8985f8cddb\");\nthis.storage.get('Switchaccount').then((val) => {\nif(val != null){\n\nthis.compleate=val;\n}\n});\n  //user.printuser();\n//  this.compleate='TRUE';\n  //console.log(this.compleate);\n\n  \n}\n    showAlert(balance : any ) {\n     let alert = this.alertCtrl.create({\n       title: 'Error!',\n       message: balance.responseMessage,\n\n       buttons: ['OK'],\n        cssClass: 'alertCustomCss'\n     });\n     alert.present();\n   }\n\n\nCancle(){\n  this.storage.set('Switchaccount','FALSE');\n\n  this.compleate='FALSE';\n}\n\n\n    logForm(){\n      this.submitAttempt=true;\n  if(this.todo.valid){\n      let loader = this.loadingCtrl.create({\n       content: \"Please wait...\"\n     });\n     loader.present();\n     var dat=this.todo.value;\n\n      dat.UUID=uuid.v4();\n     dat.consumerPIN=this.GetServicesProvider.encryptGmpp(dat.UUID+dat.consumerPIN);\ndat.consumerIdentifier=this.consumerIdentifier;\n\n    //console.log(dat.IPIN)\n     dat.isConsumer='true';\n\n    this.GetServicesProvider.load(this.todo.value,'gmpp/switchCustomer').then(data => {\n     this.bal = data;\n      //console.log(data)\n      if(data != null && data.responseCode==930){\n\n          this.storage.set('Switchaccount','TRUE');\n          this.storage.set(\"SwitchaccountUUID\",dat.UUID);\n          this.submitAttempt=false;\n       loader.dismiss();\n      // this.showAlert(data);\n\n//     var datas =[\n//       {\"tital\":\"Status\",\"desc\":data.responseMessage},\n//        {\"tital\":\"SMS\",\"desc\":\"An SMS will be sent shortly\"},\n//            ];\n//        let modal = this.modalCtrl.create('ReModelPage', {\"data\":datas},{ cssClass: 'inset-modal' });\n//   //   modal.present();\n\n// this.showAlert(data);\nthis.todo.reset();\nthis.compleate=\"TRUE\";\n\n//this.ionViewDidLoad();\n    }else{\n      this.submitAttempt=false;\n     loader.dismiss();\n    if(data.responseCode!=null){\n    this.showAlert(data);}else{\n  data.responseMessage=\"Connection Error\";\n  this.showAlert(data);\n    }\n    this.todo.reset();\n    }\n    this.submitAttempt=false;\n   });\n\n    }}\n\n\n\n        ComplateForm(){\n      if(this.complate.valid){\n          let loader = this.loadingCtrl.create({\n           content: \"Please wait...\"\n         });\n         loader.present();\n         var dat=this.complate.value;\n         this.storage.get('SwitchaccountUUID').then((val) => {\n          if(val != null){\n              dat.originalTranUUID=val;\n          }\n          dat.UUID=uuid.v4();\n         dat.consumerOTP=this.GetServicesProvider.encryptGmpp(dat.UUID+dat.consumerOTP);\n    dat.consumerIdentifier=this.consumerIdentifier;\n\n     \n\n        this.GetServicesProvider.load(this.complate.value,'gmpp/completeSwitchCustomer').then(data => {\n         this.bal = data;\n          //console.log(data)\n          if(data != null && data.responseCode==1){\n             let profile = JSON.parse(localStorage.getItem(\"profile\"));\n             profile.phoneNumber=this.consumerIdentifier;\n            this.api.put(\"/profiles\", profile).subscribe((res: any) => {\n              //console.log(res);\n              localStorage.setItem(\"profile\",JSON.stringify(profile));\n              //console.log(JSON.parse(localStorage.getItem(\"profile\")));\n           loader.dismiss();\n          // this.showAlert(data);\n\n        var datas =[\n          {\"tital\":\"Status\",\"desc\":data.responseMessage}\n                       ];\n           let modal = this.modalCtrl.create('ReModelPage', {\"data\":datas},{ cssClass: 'inset-modals' });\n         modal.present();\n         this.Cancle();\n         this.navCtrl.pop();\n        }, err => {\n          //console.log(err);\n        });\n        }else{\n         loader.dismiss();\n        if(data.responseCode!=null){\n        this.showAlert(data);}else{\n      data.responseMessage=\"Connection Error\";\n      this.showAlert(data);\n        }\n        this.complate.reset();\n        }});\n       });\n\n        }}\n\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/GMPPPages/switchaccount/switchaccount.ts"],"sourceRoot":""}