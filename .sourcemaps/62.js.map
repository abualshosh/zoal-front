{"version":3,"sources":["../../src/pages/ConsumerPages/zaintopup/zaintopup.module.ts","../../src/pages/ConsumerPages/zaintopup/zaintopup.ts"],"names":[],"mappings":"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","file":"62.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { ZaintopupPage } from './zaintopup';\nimport { TranslateModule } from '@ngx-translate/core';\n@NgModule({\n  declarations: [\n    ZaintopupPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(ZaintopupPage),\n        TranslateModule.forChild()\n  ],\n  exports: [\n    ZaintopupPage\n  ]\n})\nexport class ZaintopupPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ConsumerPages/zaintopup/zaintopup.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams,ModalController } from 'ionic-angular';\n\nimport {Validators, FormBuilder, FormGroup } from '@angular/forms';\nimport { LoadingController } from 'ionic-angular';\nimport { GetServicesProvider } from '../../../providers/get-services/get-services';\nimport { AlertController } from 'ionic-angular';\nimport * as NodeRSA from 'node-rsa';\nimport * as uuid from 'uuid';\nimport { UserProvider } from '../../../providers/user/user';\nimport {Storage} from '@ionic/storage';\nimport {Card} from '../../../models/cards';\n/**\n * Generated class for the ZaintopupPage page.\n *\n * See http://ionicframework.com/docs/components/#navigation for more info\n * on Ionic pages and navigation.\n */\n@IonicPage()\n@Component({\n  selector: 'page-zaintopup',\n  templateUrl: 'zaintopup.html',\n})\nexport class ZaintopupPage {\n\n\n  private bal : any;\n  private todo : FormGroup;\n  public cards:Card[]=[];\n  public title:any;\npublic payee:any[]=[\n  {\n    PayeeName:\"Zain\",\n    PayeeId:\"0010010001\"\n  },\n  {\n    PayeeName:\"MTN\",\n    PayeeId:\"2\"\n  },\n  {\n    PayeeName:\"Sudani\",\n    PayeeId:\"3\"\n  }\n];\nsubmitAttempt: boolean = false;\n  constructor( private formBuilder: FormBuilder ,public loadingCtrl: LoadingController , public GetServicesProvider : GetServicesProvider,public alertCtrl: AlertController\n  ,public user:UserProvider,public storage:Storage,public modalCtrl:ModalController, public navParams: NavParams) {\n    this.storage.get('cards').then((val) => {\n    this.cards=val;\n      });\nthis.title=this.navParams.get(\"name\");\n\n    //user.printuser();\n\n    this.todo = this.formBuilder.group({\n      pan: ['',],\n      Card: ['',Validators.required],\n      payeeId: [''],\n        IPIN: ['',Validators.compose([Validators.required,Validators.minLength(4),Validators.maxLength(4), Validators.pattern('[0-9]*')])],\n        MPHONE: ['',Validators.required],\n          Amount: ['',Validators.required],\n\n    });\n\n  }\n\n  showAlert(balance : any ) {\n   let alert = this.alertCtrl.create({\n     title: 'ERROR',\n     message: balance.responseMessage,\n\n     buttons: ['OK'],\n      cssClass: 'alertCustomCss'\n   });\n   alert.present();\n }\n\n\n  logForm(){\n            this.submitAttempt=true;\nif(this.todo.valid){\n    let loader = this.loadingCtrl.create({\n     content: \"Please wait...\"\n   });\n   loader.present();\n   var dat=this.todo.value;\n\n    dat.UUID=\"a7b9cce1-4a07-46f1-8396-90e571c1074f\";//uuid.v4();\n   dat.IPIN=this.GetServicesProvider.encrypt(dat.UUID+dat.IPIN);\n  console.log(dat.IPIN)\n   dat.tranCurrency='SDG';\n   dat.mbr='1';\n   dat.tranAmount=dat.Amount;\n   dat.toCard=dat.ToCard;\n   dat.authenticationType='00';\n   dat.fromAccountType='00';\n      dat.toAccountType='00';\n      dat.paymentInfo=\"MPHONE=\"+dat.MPHONE;\n\n   dat.pan=dat.Card.pan;\n   dat.expDate=dat.Card.expDate;\n console.log(dat)\n  this.GetServicesProvider.load(dat,'consumer/payment').then(data => {\n   this.bal = data;\n    console.log(data)\n    if(data != null && data.responseCode==0){\n     loader.dismiss();\n    // this.showAlert(data);\n\n var datas;\n   if(data.balance){\n         datas ={\n    \"acqTranFee\":data.acqTranFee\n    ,\"issuerTranFee\":data.issuerTranFee\n     ,\"tranAmount\":data.tranAmount\n     ,\"tranCurrency\":data.tranCurrency\n     ,\"balance\":data.balance.available\n  };\n\n   }else{\n        datas ={\n    \"acqTranFee\":data.acqTranFee\n    ,\"issuerTranFee\":data.issuerTranFee\n     ,\"tranAmount\":data.tranAmount\n        ,\"tranCurrency\":data.tranCurrency\n  };\n   }\n   var dat =[];\n\n\n     if(Object.keys(data.billInfo).length>0){\n    dat.push(data.billInfo);}\n      dat.push(datas);\n      let modal = this.modalCtrl.create('BranchesPage', {\"data\":dat},{ cssClass: 'inset-modal' });\n   modal.present();\n   this.todo.reset();\n    this.submitAttempt=false;\n  }else{\n   loader.dismiss();\n  this.showAlert(data);\nthis.todo.reset();\n    this.submitAttempt=false;\n  }\n });\n\n  }}\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/ConsumerPages/zaintopup/zaintopup.ts"],"sourceRoot":""}